<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aprenda Python Passo a Passo - Tratamento de Erros (Exceções)</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../estilo.css">
</head>
<body id="top">

    <div class="main-header">
        <img src="../logo.png" alt="Logo Aprenda Python" class="logo-header">
        <h1>Bem-vindo ao Mundo Python!</h1>
    </div>
    <div class="container">

        <p>Comece sua jornada na programação com Python, uma linguagem poderosa e fácil de aprender.</p>

     
      <nav class="main-menu">
            <h2>Conteúdos:</h2>
            <ul>
                <li><a href="index.html">Página Inicial</a></li>
                <li><a href="manipulacao_arquivos.html">→ Próxima Aula: Manipulando Arquivos</a></li>
                
                </ul>
        </nav>
        <h1>Tratamento de Erros (Exceções): Lidando com o Inesperado</h1>

        <p>Em qualquer programa, por mais bem planejado que seja, as coisas podem dar errado. Usuários podem digitar dados incorretos, arquivos podem não existir, ou um cálculo matemático pode tentar uma operação inválida (como dividir por zero).</p>
        <p>Quando um erro ocorre durante a execução de um programa Python, ele "levanta" uma **exceção**. Se essa exceção não for tratada, o programa para abruptamente e exibe uma mensagem de erro (o famoso "traceback").</p>
        <p>O **tratamento de erros** (ou tratamento de exceções) é a arte de antecipar esses problemas e escrever código que possa lidar com eles de forma elegante, prevenindo que seu programa trave e oferecendo uma experiência de usuário mais agradável e informativa.</p>

        <hr>

        <h2>1. Tipos Comuns de Erros (Exceções)</h2>
        <p>Vamos revisar alguns dos tipos de exceções mais comuns que você encontrará em Python:</p>

        <div class="code-block">
            <h3><code>SyntaxError</code> (Erro de Sintaxe)</h3>
            <p>Ocorre quando o código não segue as regras gramaticais do Python. Estes erros são geralmente detectados pelo interpretador **antes** mesmo de o programa começar a rodar.</p>
            <button class="copy-button" onclick="copyCode('syntaxError')">Copiar</button>
            <pre id="syntaxError">
# Exemplo de SyntaxError (descomente para ver o erro)
# if 10 > 5
#     print("10 é maior que 5") # Faltou o ':' na linha 'if'
            </pre>
            <p><strong>Correção:</strong></p>
            <pre>
if 10 > 5:
    print("10 é maior que 5")
            </pre>
        </div>

        <div class="code-block">
            <h3><code>NameError</code></h3>
            <p>Ocorre quando você tenta usar uma variável, função ou nome que não foi definido.</p>
            <button class="copy-button" onclick="copyCode('nameError')">Copiar</button>
            <pre id="nameError">
# Exemplo de NameError (descomente para ver o erro)
# print(minha_variavel_inexistente)
            </pre>
            <p><strong>Correção:</strong> Defina a variável antes de usá-la.</p>
            <pre>
minha_variavel_existente = "Olá"
print(minha_variavel_existente)
            </pre>
        </div>

        <div class="code-block">
            <h3><code>TypeError</code></h3>
            <p>Ocorre quando uma operação ou função é aplicada a um objeto de tipo inadequado.</p>
            <button class="copy-button" onclick="copyCode('typeError')">Copiar</button>
            <pre id="typeError">
# Exemplo de TypeError (descomente para ver o erro)
# resultado = "Olá" + 123  # Tentando somar string com número
# tamanho = len(500)      # Tentando usar len() em um número
            </pre>
            <p><strong>Correção:</strong> Assegure que os tipos de dados são compatíveis.</p>
            <pre>
resultado = "Olá" + str(123) # Converte o número para string
print(resultado)
tamanho_string = len("Python")
print(tamanho_string)
            </pre>
        </div>

        <div class="code-block">
            <h3><code>ValueError</code></h3>
            <p>Ocorre quando uma função recebe um argumento de tipo correto, mas com um valor inadequado.</p>
            <button class="copy-button" onclick="copyCode('valueError')">Copiar</button>
            <pre id="valueError">
# Exemplo de ValueError (descomente para ver o erro)
# numero_inteiro = int("abc") # 'abc' não pode ser convertido para inteiro
            </pre>
            <p><strong>Correção:</strong> Forneça um valor que possa ser processado pela função.</p>
            <pre>
numero_inteiro = int("123")
print(numero_inteiro)
            </pre>
        </div>

        <div class="code-block">
            <h3><code>IndexError</code></h3>
            <p>Ocorre quando você tenta acessar um índice que está fora dos limites de uma sequência (como lista ou tupla).</p>
            <button class="copy-button" onclick="copyCode('indexError')">Copiar</button>
            <pre id="indexError">
# Exemplo de IndexError (descomente para ver o erro)
# minha_lista = [10, 20, 30]
# print(minha_lista[5]) # Índice 5 não existe
            </pre>
            <p><strong>Correção:</strong> Use um índice válido.</p>
            <pre>
minha_lista = [10, 20, 30]
print(minha_lista[1]) # Acessando o segundo elemento (índice 1)
            </pre>
        </div>

        <div class="code-block">
            <h3><code>KeyError</code></h3>
            <p>Ocorre quando você tenta acessar uma chave que não existe em um dicionário.</p>
            <button class="copy-button" onclick="copyCode('keyError')">Copiar</button>
            <pre id="keyError">
# Exemplo de KeyError (descomente para ver o erro)
# meu_dicionario = {"nome": "Ana", "idade": 25}
# print(meu_dicionario["cidade"]) # Chave 'cidade' não existe
            </pre>
            <p><strong>Correção:</strong> Use uma chave existente ou verifique a existência da chave antes de acessar (usando `in` ou `get()`).</p>
            <pre>
meu_dicionario = {"nome": "Ana", "idade": 25}
if "cidade" in meu_dicionario:
    print(meu_dicionario["cidade"])
else:
    print("Chave 'cidade' não encontrada.")
            </pre>
        </div>

        <div class="code-block">
            <h3><code>ZeroDivisionError</code></h3>
            <p>Ocorre quando você tenta dividir um número por zero.</p>
            <button class="copy-button" onclick="copyCode('zeroDivisionError')">Copiar</button>
            <pre id="zeroDivisionError">
# Exemplo de ZeroDivisionError (descomente para ver o erro)
# resultado_divisao = 10 / 0
            </pre>
            <p><strong>Correção:</strong> Verifique o divisor antes de dividir.</p>
            <pre>
divisor = 0
if divisor != 0:
    resultado = 10 / divisor
    print(resultado)
else:
    print("Não é possível dividir por zero.")
            </pre>
        </div>

        <div class="code-block">
            <h3><code>FileNotFoundError</code></h3>
            <p>Ocorre quando o Python tenta abrir um arquivo que não existe no caminho especificado.</p>
            <button class="copy-button" onclick="copyCode('fileNotFoundError')">Copiar</button>
            <pre id="fileNotFoundError">
# Exemplo de FileNotFoundError (descomente para ver o erro)
# with open("arquivo_inexistente.txt", "r") as f:
#     conteudo = f.read()
            </pre>
            <p><strong>Correção:</strong> Assegure que o arquivo existe ou crie-o.</p>
            <pre>
# Exemplo de como criar um arquivo (para evitar o erro na leitura)
# with open("arquivo_existente.txt", "w") as f:
#     f.write("Conteúdo de teste.")

# with open("arquivo_existente.txt", "r") as f:
#     conteudo = f.read()
#     print(conteudo)
            </pre>
        </div>

        <hr>

        <h2>2. O Bloco <code>try-except</code></h2>
        <p>O bloco <code>try-except</code> é a principal ferramenta do Python para lidar com exceções de forma controlada. Ele permite que você "tente" executar um código que pode falhar e, se falhar, "capture" a exceção e execute um código alternativo.</p>

        <h3>2.1. Sintaxe Básica</h3>
        <p>O código que pode gerar uma exceção é colocado dentro do bloco <code>try</code>. Se uma exceção do tipo especificado ocorrer, o controle é transferido para o bloco <code>except</code>.</p>

        <div class="code-block">
            <h3>Exemplo de <code>try-except</code>:</h3>
            <button class="copy-button" onclick="copyCode('tryExceptBasic')">Copiar</button>
            <pre id="tryExceptBasic">
try:
    numero_str = input("Digite um número: ")
    numero_int = int(numero_str) # Pode gerar ValueError
    resultado = 10 / numero_int   # Pode gerar ZeroDivisionError
    print(f"O resultado é: {resultado}")
except ValueError:
    print("Erro: A entrada não é um número válido. Por favor, digite apenas dígitos.")
except ZeroDivisionError:
    print("Erro: Não é possível dividir por zero!")
            </pre>
        </div>

        <h3>2.2. Capturando Exceções Específicas</h3>
        <p>É uma boa prática capturar exceções específicas, pois isso permite que você lide com diferentes tipos de erros de maneiras distintas. Comece pelas exceções mais específicas e vá para as mais genéricas.</p>

        <div class="code-block">
            <h3>Exemplo de Captura Múltipla e Genérica:</h3>
            <button class="copy-button" onclick="copyCode('tryExceptSpecific')">Copiar</button>
            <pre id="tryExceptSpecific">
try:
    valor1 = int(input("Digite o primeiro número: "))
    valor2 = int(input("Digite o segundo número: "))
    divisao = valor1 / valor2
    lista = [1, 2]
    print(lista[divisao]) # Isso causará um IndexError se divisao for float

except ValueError:
    print("Erro: Por favor, digite apenas números inteiros válidos.")
except ZeroDivisionError:
    print("Erro: O segundo número não pode ser zero para a divisão.")
except IndexError: # Captura o erro de índice da lista
    print("Erro: Tentativa de acessar um índice inválido na lista.")
except Exception as e: # Captura qualquer outra exceção não especificada
    print(f"Ocorreu um erro inesperado: {e}")
            </pre>
        </div>

        <h3>2.3. Capturando Múltiplas Exceções em um Único <code>except</code></h3>
        <p>Você pode agrupar várias exceções na mesma cláusula <code>except</code> usando uma tupla.</p>
        <div class="code-block">
            <h3>Exemplo de Múltiplas Exceções em um só <code>except</code>:</h3>
            <button class="copy-button" onclick="copyCode('tryExceptTuple')">Copiar</button>
            <pre id="tryExceptTuple">
try:
    entrada = input("Digite um número ou tente dividir por zero: ")
    numero = float(entrada)
    resultado = 10 / numero
    print(f"Resultado: {resultado}")
except (ValueError, ZeroDivisionError): # Captura ValueError OU ZeroDivisionError
    print("Erro: Entrada inválida ou divisão por zero. Por favor, tente novamente.")
except Exception as e:
    print(f"Ocorreu um erro geral: {e}")
            </pre>
        </div>

        <div class="exercise">
            <h3>Exercício 2.1: Divisão Segura de Números</h3>
            <p>Escreva um programa que peça ao usuário para digitar dois números. Use um bloco <code>try-except</code> para lidar com:</p>
            <ol>
                <li><code>ValueError</code>: Se o usuário digitar algo que não seja um número.</li>
                <li><code>ZeroDivisionError</code>: Se o segundo número for zero.</li>
            </ol>
            <p>Se a divisão for bem-sucedida, imprima o resultado. Caso contrário, imprima uma mensagem de erro apropriada.</p>
            <div class="code-block">
                <button class="copy-button" onclick="copyCode('exerTryExcept1')">Copiar</button>
                <pre id="exerTryExcept1">
# Exercício 2.1
try:
    num1_str = input("Digite o primeiro número: ")
    num1 = float(num1_str) # Tenta converter para float

    num2_str = input("Digite o segundo número: ")
    num2 = float(num2_str) # Tenta converter para float

    resultado = num1 / num2
    print(f"O resultado da divisão é: {resultado}")

except ValueError:
    print("Erro: Entrada inválida. Por favor, digite números válidos.")
except ZeroDivisionError:
    print("Erro: Divisão por zero não é permitida.")
except Exception as e: # Captura qualquer outro erro inesperado
    print(f"Ocorreu um erro inesperado: {e}")
                </pre>
            </div>
        </div>

        <div class="exercise">
            <h3>Exercício 2.2: Acesso a Lista com Proteção</h3>
            <p>Crie uma lista com pelo menos 3 itens. Peça ao usuário para digitar um índice. Use <code>try-except</code> para lidar com <code>IndexError</code> caso o índice esteja fora do alcance da lista.</p>
            <p>Se o acesso for bem-sucedido, imprima o item. Caso contrário, informe ao usuário que o índice é inválido.</p>
            <div class="code-block">
                <button class="copy-button" onclick="copyCode('exerTryExcept2')">Copiar</button>
                <pre id="exerTryExcept2">
# Exercício 2.2
frutas = ["maçã", "banana", "laranja"]

try:
    indice_str = input(f"Digite um índice (0 a {len(frutas) - 1}): ")
    indice = int(indice_str) # Pode gerar ValueError

    item = frutas[indice] # Pode gerar IndexError
    print(f"O item no índice {indice} é: {item}")

except ValueError:
    print("Erro: Por favor, digite um número inteiro para o índice.")
except IndexError:
    print(f"Erro: O índice {indice} está fora do alcance da lista. Use um índice entre 0 e {len(frutas) - 1}.")
except Exception as e:
    print(f"Ocorreu um erro inesperado: {e}")
                </pre>
            </div>
        </div>

        <hr>

        <h2>3. O Bloco <code>else</code> (Opcional)</h2>
        <p>A cláusula <code>else</code> no bloco <code>try-except</code> é executada **somente se NENHUMA exceção ocorrer** dentro do bloco <code>try</code>. É útil para colocar código que depende do sucesso da operação do <code>try</code>.</p>

        <div class="code-block">
            <h3>Exemplo com <code>else</code>:</h3>
            <button class="copy-button" onclick="copyCode('tryElse')">Copiar</button>
            <pre id="tryElse">
try:
    num1 = int(input("Digite o primeiro número: "))
    num2 = int(input("Digite o segundo número: "))
    resultado = num1 / num2
except (ValueError, ZeroDivisionError) as e:
    print(f"Erro: {e}")
else: # Este bloco é executado SE NENHUMA exceção ocorreu no 'try'
    print(f"Operação de divisão realizada com sucesso. Resultado: {resultado}")
            </pre>
        </div>

        <hr>

        <h2>4. O Bloco <code>finally</code> (Opcional)</h2>
        <p>A cláusula <code>finally</code> é executada **SEMPRE**, independentemente de uma exceção ter ocorrido ou não no bloco <code>try</code>. É ideal para colocar código de "limpeza", como fechar arquivos, liberar recursos de rede, etc.</p>

        <div class="code-block">
            <h3>Exemplo com <code>finally</code> (Fechando Arquivo):</h3>
            <button class="copy-button" onclick="copyCode('tryFinally')">Copiar</button>
            <pre id="tryFinally">
arquivo = None # Inicializa a variável para garantir que exista

try:
    arquivo = open("meu_documento.txt", "r") # Tenta abrir o arquivo
    conteudo = arquivo.read()
    print("Conteúdo do arquivo:")
    print(conteudo)
except FileNotFoundError:
    print("Erro: O arquivo 'meu_documento.txt' não foi encontrado.")
except Exception as e:
    print(f"Ocorreu um erro inesperado ao ler o arquivo: {e}")
finally: # Este bloco SEMPRE será executado
    if arquivo: # Verifica se o arquivo foi realmente aberto antes de tentar fechar
        arquivo.close()
        print("Arquivo fechado com sucesso.")
    else:
        print("Arquivo não foi aberto.")

# Para testar este código, crie ou delete 'meu_documento.txt'
# Crie um 'meu_documento.txt' e adicione um texto para o 'try' funcionar.
# Apague 'meu_documento.txt' para testar o 'FileNotFoundError'.
            </pre>
        </div>

        <hr>

        <h2>5. Levantando Exceções (<code>raise</code>)</h2>
        <p>Além de capturar exceções, você pode **levantar (raise) suas próprias exceções** ou relançar exceções existentes. Isso é útil quando uma função detecta uma condição de erro para a qual ela não sabe como lidar, e então ela "passa a responsabilidade" para o código que a chamou.</p>

        <div class="code-block">
            <h3>Exemplo de <code>raise</code>:</h3>
            <button class="copy-button" onclick="copyCode('raiseExample')">Copiar</button>
            <pre id="raiseExample">
def processar_idade(idade):
    if not isinstance(idade, (int, float)):
        raise TypeError("A idade deve ser um número inteiro ou decimal.")
    if idade < 0:
        raise ValueError("A idade não pode ser negativa.")
    if idade > 120:
        raise ValueError("A idade parece irreal (acima de 120 anos).")
    
    print(f"Idade processada com sucesso: {idade} anos.")

# Testando a função com tratamento de exceções
try:
    processar_idade(30)
    processar_idade("abc") # Irá levantar um TypeError
    processar_idade(-5)   # Irá levantar um ValueError (não alcançado devido ao TypeError anterior)
except TypeError as te:
    print(f"Erro de tipo: {te}")
except ValueError as ve:
    print(f"Erro de valor: {ve}")
except Exception as e:
    print(f"Ocorreu um erro genérico: {e}")
            </pre>
        </div>
        <p>No exemplo acima, a função <code>processar_idade</code> não tenta resolver o problema da idade inválida; ela apenas sinaliza que algo está errado, levantando uma exceção para quem a chamou lidar.</p>

        <hr>

        <h2>Conclusão</h2>
        <p>O tratamento de erros é uma habilidade essencial para escrever programas Python robustos e confiáveis. Ao usar <code>try-except-else-finally</code> e saber quando levantar suas próprias exceções, você pode criar aplicações que lidam elegantemente com o inesperado, em vez de simplesmente travar.</p>
        <p>Sempre pense nos possíveis pontos de falha do seu código e como você pode usar o tratamento de exceções para tornar seu programa mais resiliente.</p>
        <p>No próximo módulo, exploraremos a **Manipulação de Arquivos**, uma habilidade fundamental para programas que precisam ler e escrever dados de forma persistente.</p>

        </div> <a href="#top" class="back-to-top" title="Voltar ao topo da página">↑</a>

    <footer class="footer">
  <div class="footer-content">
    <div class="brand-info">
      <p>&copy; 2025 <strong>Aprendendo Python</strong> — Todos os direitos reservados.</p>
      <p>Desenvolvido por: <a href="https://jespedsys.com.br" target="_blank">JesPedSYS</a></p>
    </div>

    <div class="social-links">
      <a href="https://github.com/jespedsys" target="_blank" title="GitHub">
        <img src="../github.png" alt="GitHub">
      </a>
      <a href="https://www.linkedin.com/in/jesielpedroza" target="_blank" title="LinkedIn">
        <img src="../linkedin.png" alt="LinkedIn">
      </a>
      <a href="https://twitter.com/jespedsys" target="_blank" title="Twitter/X">
        <img src="../twitter.png" alt="Twitter/X">
      </a>
    </div>
  </div>
</footer>

    <script src="../script.js"></script>
</body>
</html>